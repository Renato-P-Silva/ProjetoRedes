{
  "name": "grunt-file-info",
  "description": "Automate template-driven updates of project file stats to project documentation.",
  "version": "1.0.14",
  "homepage": "https://github.com/hansifer/grunt-file-info",
  "author": {
    "name": "Hans Meyer",
    "email": "origin@hansifer.com",
    "url": "http://hansmeyer.com"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/hansifer/grunt-file-info.git"
  },
  "bugs": {
    "url": "https://github.com/hansifer/grunt-file-info/issues"
  },
  "license": "MIT",
  "main": "Gruntfile.js",
  "dependencies": {
    "moment": "^2.10.6",
    "zlib-browserify": "0.0.3"
  },
  "engines": {
    "node": ">= 4.0.0"
  },
  "scripts": {
    "test": "grunt test"
  },
  "devDependencies": {
    "grunt": "^0.4.5",
    "grunt-contrib-clean": "^0.7.0",
    "grunt-contrib-jshint": "^0.11.3",
    "grunt-contrib-nodeunit": "^0.4.1",
    "grunt-exec": "^0.4.6"
  },
  "peerDependencies": {
    "grunt": ">=0.4.0"
  },
  "keywords": [
    "gruntplugin",
    "file",
    "stats",
    "size",
    "gzip",
    "documentation",
    "docs"
  ],
  "readme": "# grunt-file-info\r\n\r\nAutomate template-driven updates of project file stats to project documentation.\r\n\r\n![inject.png](https://raw.github.com/hansifer/grunt-file-info/master/inject.png)\r\n\r\n## Getting Started\r\nThis plugin requires Grunt `>=0.4.0`\r\n\r\nIf you haven't used [Grunt](http://gruntjs.com/) before, be sure to check out the [Getting Started](http://gruntjs.com/getting-started) guide, as it explains how to create a [Gruntfile](http://gruntjs.com/sample-gruntfile) as well as install and use Grunt plugins. Once you're familiar with that process, you may install this plugin with this command:\r\n\r\n```shell\r\nnpm install grunt-file-info --save-dev\r\n```\r\n\r\nOnce the plugin has been installed, it may be enabled inside your Gruntfile with this line of JavaScript:\r\n\r\n```js\r\ngrunt.loadNpmTasks('grunt-file-info');\r\n```\r\n\r\n\r\n## The `file_info` task\r\n\r\n_Run this task with the `grunt file_info` command._\r\n\r\nTask targets, files and options may be specified according to the grunt [Configuring tasks](http://gruntjs.com/configuring-tasks) guide.\r\n\r\n\r\n### [Overview](#overview)\r\nIn your project's Gruntfile, add a section named `file_info` to the data object passed into `grunt.initConfig()`.\r\n\r\nThe following example injects file size information for a source file and its minified version into a README.md file that already has a section whose layout conforms to the `options.inject.text` template:\r\n\r\n```js\r\ngrunt.initConfig({\r\n  file_info: {\r\n    source_files: {\r\n      src: ['source_file.js', 'minified_source_file.js'],\r\n      options: {\r\n        inject: {\r\n          dest: 'README.md',\r\n          text: '###Size' + \r\n                grunt.util.linefeed + grunt.util.linefeed + \r\n                'Original: {{= sizeText(size(src[0])) }}' + \r\n                grunt.util.linefeed + grunt.util.linefeed + \r\n                'Minified: {{= sizeText(size(src[1])) }}' + \r\n                grunt.util.linefeed + grunt.util.linefeed + \r\n                'Gzipped:  {{= sizeText(gzipSize(src[1])) }}'\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\r\n```\r\n\r\n\r\n### [Options](#options)\r\n\r\n#### options.stdout\r\nType: `boolean` or `string`  \r\nDefault: `true`\r\n\r\nIf falsy, output to the command line is suppressed. \r\n\r\nIf `true`, results for each file specified by `src` are output to the command line using the default layout.\r\n\r\nIf a string is passed, it is applied as a template (using mustache-style delimiters) specifying how results are output to the command line.\r\n\r\n#### options.inject\r\nType: `object` or `array of object`  \r\nDefault: `undefined`\r\n\r\nAn inject config object or array of inject config objects having the following properties:\r\n\r\n|  | Required | Description |\r\n| :---: | :---: | :--- |\r\n| `dest` | **Yes** | An injection target filepath string or array of injection target filepath strings. |\r\n| `text` | **Yes** | A template string (using mustache-style delimiters) to define where and how results are injected into the file(s) specified by `dest`. |\r\n| `report` | No | If truthy, inject status is output to the command line. Otherwise, no status is reported. Default: `true` |\r\n\r\nThe template defined by `text` is used to:\r\n\r\n1) identify the portion of text to replace in an injection target file\r\n\r\n2) extract current field values from an injection target file for comparison against calculated values\r\n\r\n3) determine the text to inject into an injection target file (if changes are detected)\r\n\r\n#### options.injectReport\r\nType: `boolean`  \r\nDefault: `true`\r\n\r\nProvides a default value for the `report` property of `options.inject` config objects.\r\n\r\n\r\n### [Command-Line Output and File Injection Templates](#command-line-output-and-file-injection-templates)\r\n\r\n`options.stdout` and `options.inject.text` values are processed through [Lo-Dash templating](http://lodash.com/docs#template) via Grunt. As such, these templates conform to the semantics set forth by Lo-Dash template specs.\r\n\r\nIn order to control the timing of template processing within the file_info task, custom delimiters of the form `{{ }}` are used for these templates.\r\n\r\n[Lo-Dash functions](http://lodash.com/docs) are accessible within fields of such templates via standard Lo-Dash syntax (eg, `_.first([1,2,3])`). Additionally, [underscore.string](https://github.com/epeli/underscore.string) methods are similiarly accessible (eg, `_.titleize(\"hello cruel world\")`).\r\n\r\nThe file_info task also furnishes certain [Template Functions](#template-functions) and [Template Variables](#template-variables) within template fields, as outlined below.\r\n\r\n\r\n### [Template Functions](#template-functions)\r\n\r\nThe following functions are available within fields of templates defined by `options.stdout` and `options.inject.text`:\r\n\r\n#### size (`string` _filepath_)\r\nReturns the size in bytes of the file specified by _filepath_.\r\n\r\n#### gzipSize (`string` _filepath_)\r\nReturns the gzipped size in bytes of the file specified by _filepath_.\r\n\r\n#### sizeText (`number` _bytes_ [, `number` _lpadding_])\r\nReturns unit-adjusted and optionally-padded text (eg, \"2 kB\", \"632 bytes\") corresponding to a number of bytes.\r\n\r\n#### spaceSavings (`string` _filepath_)\r\nReturns the percentage space savings gained by gzipping the file specified by _filepath_.\r\n\r\n#### modified (`string` _filepath_)\r\nReturns the date that the contents of the file specified by _filepath_ were last modified.\r\n\r\n#### modifiedAgo (`string` _filepath_)\r\nReturns a string (eg, \"10 days ago\") describing how long ago the contents of the file specified by _filepath_ were last modified. This function is generally more useful to stdout templates than file injection templates.\r\n\r\n#### filename (`string` _filepath_)\r\nReturns the file name portion (including file type) of a file path.\r\n\r\n#### filetype (`string` _filepath_)\r\nReturns the file type portion (without the leading '.') of a file path.\r\n\r\n#### config ([`string` _configName_])\r\nReturns the value of the item stored in grunt.config(configName).\r\n\r\n---\r\n\r\nAdditionally, the following function is available within fields of templates defined by `options.inject.text`:\r\n\r\n#### pass ([`number` _index_])\r\nReturns the matched value of a template field when that template is matched against existing text of an injection target file. _index_ is the 1-based order of the matched field within the template and defaults to the order of the field in which `pass()` is called.\r\n\r\n\r\n### [Template Variables](#template-variables)\r\n\r\nThe following variables are available within fields of templates defined by `options.stdout` and `options.inject.text`:\r\n\r\n#### filesSrc\r\nAn array of expanded filepath strings of all src files to get file info for. Note that this is not the same as `src`, which refers to the raw (ie, non-expanded) value of the `src` property of the file_info config target object.\r\n\r\n\r\n### [Usage Examples](#usage-examples)\r\n\r\n#### Default Options\r\n\r\nThe following example simply outputs file size information for a source file and its minified version to the command line:\r\n\r\n```js\r\ngrunt.initConfig({\r\n    file_info: {\r\n        source_files: {\r\n            src: ['source_file.js', 'minified_source_file.js']\r\n        }\r\n    }\r\n});\r\n```\r\n\r\nOutput:\r\n```\r\nsource_files stats:\r\n\r\nsource_file.js                22.5 kB (4.2 kB gzipped)\r\nminified_source_file.js       17.9 kB (3.9 kB gzipped)\r\n```\r\n\r\n#### Customized Command-Line Output\r\n\r\nThe following example outputs file size information for a source file and its minified version to the command line according to a custom template:\r\n\r\n```js\r\ngrunt.initConfig({\r\n  file_info: {\r\n    source_files: {\r\n      src: ['source_file.js', 'minified_source_file.js'],\r\n      options: {\r\n        stdout: \r\n          'Original: {{= sizeText(size(src[0]), 7) }}' + grunt.util.linefeed + \r\n          'Minified: {{= sizeText(size(src[1]), 7) }}' + grunt.util.linefeed + \r\n          'Gzipped:  {{= sizeText(gzipSize(src[1]), 7) }} ({{= spaceSavings(src[1]) }}% savings)'\r\n      }\r\n    }\r\n  }\r\n});\r\n```\r\n\r\nOutput:\r\n```\r\nOriginal:      22.5 kB\r\nMinified:      17.9 kB\r\nGzipped:        3.9 kB (78.06% savings)\r\n```\r\n\r\nThe following example outputs a file's name, modification date, and size to the command line according to a custom template:\r\n\r\n```js\r\ngrunt.initConfig({\r\n    file_info: {\r\n        source_files: {\r\n            src: 'src/source_file.js',\r\n            options: {\r\n                stdout: \r\n                  'Name: {{= filename(src) }}' + grunt.util.linefeed + \r\n                  'Date: {{= modified(src).toDateString() }}' + grunt.util.linefeed + \r\n                  'Size: {{= sizeText(size(src)) }}'\r\n            }\r\n        }\r\n    }\r\n});\r\n```\r\n\r\nOutput:\r\n```\r\nName: source_file.js\r\nDate: Sat Dec 07 2013\r\nSize: 22.5 kB\r\n```\r\n\r\n#### File Injection\r\n\r\nThe following example injects file size information for a source file and its minified version into a README.md file according to a template specified by `options.inject.text`. The template is used to match the portion of the file to replace as well as to generate the replacement text. \r\n\r\n```js\r\ngrunt.initConfig({\r\n  file_info: {\r\n    source_files: {\r\n      src: ['source_file.js', 'minified_source_file.js'],\r\n      options: {\r\n        inject: {\r\n          dest: 'README.md',\r\n          text: \r\n            '###Size' + \r\n            grunt.util.linefeed + grunt.util.linefeed + \r\n            '|          | Dependent Version | Standalone Version |' + grunt.util.linefeed + \r\n            '| :------- | ----------------: | -----------------: |' + grunt.util.linefeed + \r\n            '| Original | {{= _.lpad(pass(), 17) }} | {{= sizeText(size(src[0]), 18) }} |' + \r\n            grunt.util.linefeed + \r\n            '| Minified | {{= _.lpad(pass(), 17) }} | {{= sizeText(size(src[1]), 18) }} |' + \r\n            grunt.util.linefeed + \r\n            '| Gzipped  | {{= _.lpad(pass(), 17) }} | {{= sizeText(gzipSize(src[1]), 18) }} |'\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\r\n```\r\n\r\nInjected text:\r\n```\r\n###Size\r\n\r\n|          | Dependent Version | Standalone Version |\r\n| :------- | ----------------: | -----------------: |\r\n| Original |           22.5 kB |            57.5 kB |\r\n| Minified |              7 kB |            17.2 kB |\r\n| Gzipped  |            1.5 kB |             3.8 kB |\r\n```\r\n\r\nFile injection occurs only if a portion of the destination file matches `options.inject.text` and one or more corresponding field values _change_, in which case a diff report is normally output to the command line for the matching portion of text. For example:\r\n\r\n![diff.png](https://raw.github.com/hansifer/grunt-file-info/master/diff.png)\r\n\r\nIf the destination file does not exist, it is created and populated with the generated text. In this case the template function `pass()` yields an empty string since there are no field values to propagate.\r\n\r\nNote that in the example above, text is written to the destination file only if any of the size values for \"Standalone Version\" have changed. \"Dependent Version\" values in this case are simply propagated from existing text.\r\n\r\n#### Kitchen Sink\r\n\r\nThe following extensive example shows the use of two `file_info` targets that each write source file stats for a particular version of an application to a corresponding column of the same markdown table of a README.md file.\r\n\r\n```js\r\ngrunt.initConfig({\r\n file_info: {\r\n  source_verion_1: {\r\n   src: ['dist/v1/source_file.js', 'dist/v1/minified_source_file.js'],\r\n   options: {\r\n    inject: {\r\n     dest: 'README.md',\r\n     text: \r\n      '###Size' + grunt.util.linefeed + grunt.util.linefeed + \r\n      '|          | Dependent Version | Standalone Version |' + grunt.util.linefeed + \r\n      '| :------- | ----------------: | -----------------: |' + grunt.util.linefeed + \r\n      '| Original | {{= sizeText(size(src[0]), 17) }} | {{= _.lpad(pass(), 18) }} |' + \r\n      grunt.util.linefeed + \r\n      '| Minified | {{= sizeText(size(src[1]), 17) }} | {{= _.lpad(pass(), 18) }} |' + \r\n      grunt.util.linefeed + \r\n      '| Gzipped  | {{= sizeText(gzipSize(src[1]), 17) }} | {{= _.lpad(pass(), 18) }} |'\r\n    },\r\n    stdout: \r\n     'Original: {{= sizeText(size(src[0]), 7) }}' + grunt.util.linefeed + \r\n     'Minified: {{= sizeText(size(src[1]), 7) }}' + grunt.util.linefeed + \r\n     'Gzipped:  {{= sizeText(gzipSize(src[1]), 7) }} ({{= spaceSavings(src[1]) }}% savings)'\r\n   }\r\n  },\r\n  source_verion_2: {\r\n   src: ['dist/v2/source_file.js', 'dist/v2/minified_source_file.js'],\r\n   options: {\r\n    inject: {\r\n     dest: 'README.md',\r\n     text: \r\n      '###Size' + grunt.util.linefeed + grunt.util.linefeed + \r\n      '|          | Dependent Version | Standalone Version |' + grunt.util.linefeed + \r\n      '| :------- | ----------------: | -----------------: |' + grunt.util.linefeed + \r\n      '| Original | {{= _.lpad(pass(), 17) }} | {{= sizeText(size(src[0]), 18) }} |' + \r\n      grunt.util.linefeed + \r\n      '| Minified | {{= _.lpad(pass(), 17) }} | {{= sizeText(size(src[1]), 18) }} |' + \r\n      grunt.util.linefeed + \r\n      '| Gzipped  | {{= _.lpad(pass(), 17) }} | {{= sizeText(gzipSize(src[1]), 18) }} |'\r\n    },\r\n    stdout: \r\n     'Original: {{= sizeText(size(src[0]), 7) }}' + grunt.util.linefeed + \r\n     'Minified: {{= sizeText(size(src[1]), 7) }}' + grunt.util.linefeed + \r\n     'Gzipped:  {{= sizeText(gzipSize(src[1]), 7) }} ({{= spaceSavings(src[1]) }}% savings)'\r\n   }\r\n  }\r\n }\r\n});\r\n```\r\n\r\n<!---\r\n### Usage Examples\r\n\r\n#### Default Options\r\nIn this example, the default options are used to do something with whatever. So if the `testing` file has the content `Testing` and the `123` file had the content `1 2 3`, the generated result would be `Testing, 1 2 3.`\r\n\r\n```js\r\ngrunt.initConfig({\r\n  file_info: {\r\n    options: {},\r\n    files: {\r\n      'dest/default_options': ['src/testing', 'src/123'],\r\n    },\r\n  },\r\n});\r\n```\r\n\r\n#### Custom Options\r\nIn this example, custom options are used to do something else with whatever else. So if the `testing` file has the content `Testing` and the `123` file had the content `1 2 3`, the generated result in this case would be `Testing: 1 2 3 !!!`\r\n\r\n```js\r\ngrunt.initConfig({\r\n  file_info: {\r\n    options: {\r\n      separator: ': ',\r\n      punctuation: ' !!!',\r\n    },\r\n    files: {\r\n      'dest/default_options': ['src/testing', 'src/123'],\r\n    },\r\n  },\r\n});\r\n```\r\n-->\r\n\r\n## Contributing\r\nIn lieu of a formal styleguide, take care to maintain the existing coding style. Add unit tests for any new or changed functionality. Lint and test your code using [Grunt](http://gruntjs.com/).\r\n\r\n<!---\r\n ## Release History\r\n_(Nothing yet)_ \r\n-->\r\n",
  "readmeFilename": "README.md",
  "_id": "grunt-file-info@1.0.14",
  "dist": {
    "shasum": "81290d346b07113d594d7af4136bed3d37cfd69b"
  },
  "_from": "grunt-file-info@^1.0.10",
  "_resolved": "https://registry.npmjs.org/grunt-file-info/-/grunt-file-info-1.0.14.tgz"
}
